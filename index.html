<!doctype html>
<html lang="it" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Home — Spellbook</title>
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0B0B0D">
  <meta name="sw-path" content="sw.js">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="assets/img/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="assets/css/tokens.css">
  <link rel="stylesheet" href="assets/css/base.css">
</head>
<body>
  <a href="#contenuto" class="skip-link">Salta al contenuto</a>
  <!-- SVG SPRITE -->
<svg width="0" height="0" style="position:absolute" aria-hidden="true">
  <symbol id="ic-bars" viewBox="0 0 24 24"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  <symbol id="ic-home" viewBox="0 0 24 24"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-book" viewBox="0 0 24 24"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-list" viewBox="0 0 24 24"><path d="M3 12h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 18h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 6h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 12h13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 18h13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 6h13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-theatre" viewBox="0 0 24 24"><path d="M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m6.2 5.3 3.1 3.9" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m12.4 3.4 3.1 4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-practice" viewBox="0 0 24 24"><path d="M15 4V2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M15 16v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 9h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 9h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.8 11.8 19 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M15 9h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M17.8 6.2 19 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m3 21 9-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12.2 6.2 11 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-gear" viewBox="0 0 24 24"><path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 2v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 22v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m17 20.66-1-1.73" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M11 10.27 7 3.34" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m20.66 17-1.73-1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m3.34 7 1.73 1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 12h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 12h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m20.66 7-1.73 1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m3.34 17 1.73-1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m17 3.34-1 1.73" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="m11 13.73-4 6.93" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-plus" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  <symbol id="ic-chevron-right" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  <symbol id="ic-up" viewBox="0 0 24 24"><path d="M12 8l-6 6h12z" fill="currentColor"/></symbol>
  <symbol id="ic-down" viewBox="0 0 24 24"><path d="M12 16l6-6H6z" fill="currentColor"/></symbol>
  <symbol id="ic-delete" viewBox="0 0 24 24"><path d="M4 7h16M10 11v6M14 11v6M6 7l1-2h10l1 2v12a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
</svg>

  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <button class="btn btn-secondary burger" id="openDrawer" aria-label="Apri menu"><svg class="icon"><use href="#ic-bars"/></svg></button>
        <span class="wordmark">Midnight <strong style="color:var(--accent)">Spell</strong> — Home</span>
      </div>
      <div class="nav-actions">
        <div class="theme-selector" role="group" aria-label="Tema">
          <button class="themeBtn" data-theme="dark" aria-pressed="true" aria-label="Tema scuro"></button>
          <button class="themeBtn" data-theme="light" aria-pressed="false" aria-label="Tema chiaro"></button>
          <button class="themeBtn" data-theme="hc" aria-pressed="false" aria-label="Tema alto contrasto"></button>
        </div>
        <div class="cluster" role="search">
          <input id="globalSearch" class="input" style="min-width:220px" placeholder="Cerca effetti… ( / )" aria-label="Cerca" />
          <a class="btn btn-primary" href="effects/add.html"><svg class="icon"><use href="#ic-plus"/></svg> Effetto</a>
        </div>
      </div>
  </div>
  </div>
  
  <div class="layout">
    <aside class="drawer" id="drawer" aria-label="Menu" aria-hidden="true" tabindex="-1">
      <div class="cluster" style="justify-content:space-between">
        <strong>Menu</strong>
        <button class="btn btn-secondary" id="closeDrawer">Chiudi</button>
      </div>
      <nav class="stack" style="margin-top:12px">
        <a class="btn btn-ghost" href="/"><svg class="icon"><use href="#ic-home"/></svg> Home</a>
        <a class="btn btn-ghost" href="effects/index.html"><svg class="icon"><use href="#ic-book"/></svg> Effetti</a>
        <a class="btn btn-ghost" href="routine/index.html"><svg class="icon"><use href="#ic-list"/></svg> Routine</a>
        <a class="btn btn-ghost" href="show/index.html"><svg class="icon"><use href="#ic-theatre"/></svg> Show Mode</a>
        <a class="btn btn-ghost" href="practice/index.html"><svg class="icon"><use href="#ic-practice"/></svg> Practice</a>
        <a class="btn btn-ghost" href="settings/index.html"><svg class="icon"><use href="#ic-gear"/></svg> Impostazioni</a>
      </nav>
    </aside>
    <main id="contenuto" class="wrap">
    
<section class="stack">
  <header class="surface stack">
    <div class="cluster" style="justify-content:space-between;align-items:flex-end">
      <h1 class="logo">Spellbook</h1>
      <div class="theme-selector" role="group" aria-label="Tema">
        <button class="themeBtn" data-theme="dark" aria-pressed="true" aria-label="Tema scuro"></button>
        <button class="themeBtn" data-theme="light" aria-pressed="false" aria-label="Tema chiaro"></button>
        <button class="themeBtn" data-theme="hc" aria-pressed="false" aria-label="Tema alto contrasto"></button>
      </div>
    </div>
    <p class="meta clamp-2" style="max-width:70ch">Dashboard: avvio rapido show, composer routine, effetti recenti, prossimi eventi.</p>
    <div class="cluster">
      <a class="btn btn-primary" href="show/index.html"><svg class="icon"><use href="#ic-theatre"/></svg> Avvia Show</a>
      <a class="btn btn-secondary" href="routine/index.html"><svg class="icon"><use href="#ic-list"/></svg> Composer</a>
      <a class="btn btn-secondary" href="effects/index.html"><svg class="icon"><use href="#ic-book"/></svg> Effetti</a>
    </div>
  </header>

  <div class="bento-grid">
    <article id="sectionRecent" class="surface stack wide">
      <div class="cluster" style="justify-content:space-between">
        <h2 class="h3" style="margin:0">Effetti recenti</h2>
        <a class="btn btn-secondary" href="effects/index.html">Apri effetti</a>
      </div>
      <div id="homeRecent" class="auto-grid-sm"></div>
    </article>

    <article id="sectionStats" class="surface stack">
      <div class="cluster" style="justify-content:space-between">
        <h2 class="h3" style="margin:0">Statistiche</h2>
        <span class="chip">Ultimo aggiornamento: <span id="statsDate">oggi</span></span>
      </div>

      <div class="stats-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:20px;margin-top:10px">
        <div class="stat-box" style="background:var(--surface-2);border-radius:var(--r-l);padding:16px;text-align:center">
          <div style="font-size:32px;font-weight:bold;color:var(--accent)" id="statEffects">0</div>
          <div class="meta">Effetti totali</div>
        </div>

        <div class="stat-box" style="background:var(--surface-2);border-radius:var(--r-l);padding:16px;text-align:center">
          <div style="font-size:32px;font-weight:bold;color:var(--accent)" id="statEvents">0</div>
          <div class="meta">Eventi</div>
        </div>

        <div class="stat-box" style="background:var(--surface-2);border-radius:var(--r-l);padding:16px;text-align:center">
          <div style="font-size:32px;font-weight:bold;color:var(--accent)" id="statDuration">0:00</div>
          <div class="meta">Durata totale</div>
        </div>

        <div class="stat-box" style="background:var(--surface-2);border-radius:var(--r-l);padding:16px;text-align:center">
          <div style="font-size:32px;font-weight:bold;color:var(--accent)" id="statMaterials">0</div>
          <div class="meta">Materiali</div>
        </div>
      </div>

      <div class="chart" style="margin-top:20px;height:180px;background:var(--surface-2);border-radius:var(--r-l);padding:20px">
        <h3 class="h3" style="margin:0 0 16px">Distribuzione per categoria</h3>
        <div id="categoryChart" style="display:flex;align-items:flex-end;height:100px;gap:10px"></div>
      </div>
    </article>

    <article id="sectionHistory" class="surface stack tall">
      <h2 class="h3" style="margin:0">Cronologia</h2>

      <div class="history-timeline" style="position:relative;padding-left:24px;margin-top:10px" id="historyTimeline">
        <div style="position:absolute;top:0;bottom:0;left:10px;width:2px;background:var(--border)"></div>

        <!-- Gli elementi della cronologia saranno generati dinamicamente -->
      </div>
    </article>

    <article id="sectionUpcoming" class="surface stack wide">
      <div class="cluster" style="justify-content:space-between">
        <h2 class="h3" style="margin:0">Prossimi show</h2>
        <button class="btn btn-secondary" id="addEvent">
          <svg class="icon" style="margin-right:4px"><use href="#ic-plus"/></svg>
          Evento
        </button>
      </div>
      <ul id="homeUpcoming" class="upcoming-list"></ul>
    </article>
  </div>
</section>

  </main>
  </div>

  <nav class="bottombar" aria-label="Navigazione principale" id="bottomNav">
    <a href="/" aria-label="Home" aria-current="page"><svg class="icon"><use href="#ic-home"/></svg><small>Home</small></a>
    <a href="effects/index.html" aria-label="Effetti"><svg class="icon"><use href="#ic-book"/></svg><small>Effetti</small></a>
    <a href="routine/index.html" aria-label="Routine"><svg class="icon"><use href="#ic-list"/></svg><small>Routine</small></a>
    <a href="show/index.html" aria-label="Show"><svg class="icon"><use href="#ic-theatre"/></svg><small>Show</small></a>
    <a href="settings/index.html" aria-label="Impostazioni"><svg class="icon"><use href="#ic-gear"/></svg><small>Impost.</small></a>
  </nav>

  <script type="module" src="assets/js/core/utils.js"></script>
  <script type="module" src="assets/js/core/state.js"></script>
  <script type="module" src="assets/js/core/ui.js"></script>
  <script type="module" src="home.js"></script>
</body>
</html>