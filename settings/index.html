<!doctype html>
<html lang="it" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Impostazioni — Spellbook</title>
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0B0B0D">
  <meta name="sw-path" content="../sw.js">
  <link rel="manifest" href="../manifest.json">
  <link rel="icon" href="../assets/img/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="../assets/css/tokens.css">
  <link rel="stylesheet" href="../assets/css/base.css">
</head>
<body>
  <a href="#contenuto" class="skip-link">Salta al contenuto</a>
  <!-- SVG SPRITE -->
<svg width="0" height="0" style="position:absolute" aria-hidden="true">
  <symbol id="ic-bars" viewBox="0 0 24 24"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  <symbol id="ic-home" viewBox="0 0 24 24"><path d="M3 12l9-9 9 9v9a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-book" viewBox="0 0 24 24"><path d="M4 4h12a3 3 0 0 1 3 3v13H7a3 3 0 0 1-3-3V4z" fill="none" stroke="currentColor" stroke-width="2"/></symbol>
  <symbol id="ic-list" viewBox="0 0 24 24"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  <symbol id="ic-theatre" viewBox="0 0 24 24"><path d="M9 3c3 0 6 2 6 5v7c0 3-3 5-6 5S3 18 3 15V8c0-3 3-5 6-5zm12 2c-2 0-4 1-5 3v7c1 2 3 3 5 3s4-1 4-3V8c0-2-2-3-4-3z" fill="none" stroke="currentColor" stroke-width="2"/></symbol>
  <symbol id="ic-practice" viewBox="0 0 24 24"><path d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-gear" viewBox="0 0 24 24"><path d="M11.049 2.927c.3-1.14 1.603-1.14 1.902 0l.217.827a1.5 1.5 0 0 0 2.282.918l.771-.452a1.5 1.5 0 0 1 2.05.546l.867 1.5a1.5 1.5 0 0 1-.546 2.05l-.771.452a1.5 1.5 0 0 0-.918 2.282l.217.827c.3 1.14-.78 2.22-1.92 1.92l-.827-.217a1.5 1.5 0 0 0-2.282.918l-.452.771a1.5 1.5 0 0 1-2.05.546l-1.5-.867a1.5 1.5 0 0 1-.546-2.05l.452-.771a1.5 1.5 0 0 0-.918-2.282l-.827-.217c-1.14-.3-1.14-1.603 0-1.902l.827-.217a1.5 1.5 0 0 0 .918-2.282l-.452-.771a1.5 1.5 0 0 1 .546-2.05l1.5-.867a1.5 1.5 0 0 1 2.05.546l.452.771a1.5 1.5 0 0 0 2.282.918l.827-.217z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
  <symbol id="ic-plus" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  <symbol id="ic-chevron-right" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  <symbol id="ic-up" viewBox="0 0 24 24"><path d="M12 8l-6 6h12z" fill="currentColor"/></symbol>
  <symbol id="ic-down" viewBox="0 0 24 24"><path d="M12 16l6-6H6z" fill="currentColor"/></symbol>
  <symbol id="ic-delete" viewBox="0 0 24 24"><path d="M4 7h16M10 11v6M14 11v6M6 7l1-2h10l1 2v12a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
</svg>

  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <button class="btn btn-secondary burger" id="openDrawer" aria-label="Apri menu"><svg class="icon"><use href="#ic-bars"/></svg></button>
        <span class="wordmark">Midnight <strong style="color:var(--accent)">Spell</strong> — Impostazioni</span>
      </div>
      <div class="nav-actions">
        <div class="theme-selector" role="group" aria-label="Tema">
          <button class="themeBtn" data-theme="dark" aria-pressed="true" aria-label="Tema scuro"></button>
          <button class="themeBtn" data-theme="light" aria-pressed="false" aria-label="Tema chiaro"></button>
          <button class="themeBtn" data-theme="hc" aria-pressed="false" aria-label="Tema alto contrasto"></button>
        </div>
        <div class="cluster" role="search">
          <input id="globalSearch" class="input" style="min-width:220px" placeholder="Cerca effetti… ( / )" aria-label="Cerca" />
          <a class="btn btn-primary" href="../effects/add.html"><svg class="icon"><use href="#ic-plus"/></svg> Effetto</a>
        </div>
      </div>
    </div>
  </div>

  <div class="layout">
    <aside class="drawer" id="drawer" aria-label="Menu" aria-hidden="true" tabindex="-1">
    <div class="cluster" style="justify-content:space-between">
      <strong>Menu</strong>
      <button class="btn btn-secondary" id="closeDrawer">Chiudi</button>
    </div>
    <nav class="stack" style="margin-top:12px">
      <a class="btn btn-ghost" href="../index.html"><svg class="icon"><use href="#ic-home"/></svg> Home</a>
      <a class="btn btn-ghost" href="../effects/index.html"><svg class="icon"><use href="#ic-book"/></svg> Catalogo</a>
      <a class="btn btn-ghost" href="../routine/index.html"><svg class="icon"><use href="#ic-list"/></svg> Routine</a>
      <a class="btn btn-ghost" href="../show/index.html"><svg class="icon"><use href="#ic-theatre"/></svg> Show Mode</a>
      <a class="btn btn-ghost" href="../practice/index.html"><svg class="icon"><use href="#ic-practice"/></svg> Practice</a>
      <a class="btn btn-ghost" href="../settings/index.html"><svg class="icon"><use href="#ic-gear"/></svg> Impostazioni</a>
    </nav>
    </aside>
    <main id="contenuto" class="wrap">
    
<section class="stack">
  <header class="surface">
    <h2 class="h2">Impostazioni</h2>
  </header>
  
  <div class="auto-grid" style="grid-template-columns:repeat(auto-fit, minmax(min(320px,100%),1fr))">
    <!-- Sezione Appearance -->
    <article class="surface stack">
      <h3 class="h3">Aspetto e Tema</h3>
      
      <div class="field">
        <label class="label" for="setTheme">Tema dell'app</label>
        <select id="setTheme" class="input">
          <option value="dark">Dark (scuro)</option>
          <option value="light">Light (chiaro)</option>
          <option value="hc">High Contrast (alto contrasto)</option>
          <option value="auto">Auto (segue sistema)</option>
        </select>
        <small class="meta">Seleziona il tema dell'interfaccia</small>
      </div>
      
      <div class="field">
        <label class="label" for="setAccentColor">Colore principale</label>
        <div class="cluster">
          <button class="color-option" data-color="#C6A664" style="background:#C6A664" aria-pressed="true"></button>
          <button class="color-option" data-color="#7B6330" style="background:#7B6330"></button>
          <button class="color-option" data-color="#6EA27E" style="background:#6EA27E"></button>
          <button class="color-option" data-color="#9A3A36" style="background:#9A3A36"></button>
          <button class="color-option" data-color="#7F8FA3" style="background:#7F8FA3"></button>
        </div>
      </div>
      
      <div class="field">
        <label class="label" for="setFontSize">Dimensione testo</label>
        <input type="range" id="setFontSize" min="80" max="120" value="100" class="input">
        <small class="meta">Imposta la dimensione del testo (100% = default)</small>
      </div>
    </article>
    
    <!-- Sezione Privacy -->
    <article class="surface stack">
      <h3 class="h3">Privacy e Sicurezza</h3>
      
      <div class="field">
        <label class="label" for="setProtect">Protezione metodi</label>
        <select id="setProtect" class="input">
          <option value="on">Attivata</option>
          <option value="off">Disattivata</option>
        </select>
        <small class="meta">Nasconde i metodi per evitare spoiler accidentali</small>
      </div>
      
      <div class="field">
        <label class="label" for="setShowOnlyInPractice">Protezione script</label>
        <select id="setShowOnlyInPractice" class="input">
          <option value="on">Mostra solo in Practice Mode</option>
          <option value="off">Mostra ovunque</option>
        </select>
        <small class="meta">Limita la visibilità degli script nella modalità practice</small>
      </div>
      
      <div class="field">
        <label class="label">Backup dati</label>
        <div class="cluster">
          <button id="btnBackupData" class="btn btn-secondary">Esporta dati</button>
          <label class="btn btn-secondary">Importa dati<input type="file" id="importData" accept="application/json" style="display:none"></label>
        </div>
        <small class="meta">Esporta o importa tutti i dati dell'app</small>
      </div>
    </article>
    
    <!-- Sezione App -->
    <article class="surface stack">
      <h3 class="h3">Impostazioni App</h3>
      
      <div class="field">
        <label class="label" for="setOfflineMode">Modalità offline</label>
        <select id="setOfflineMode" class="input">
          <option value="on">Attivata</option>
          <option value="off">Disattivata</option>
        </select>
        <small class="meta">Salva risorse per l'utilizzo offline</small>
      </div>
      
      <div class="field">
        <label class="label" for="setNotifications">Notifiche</label>
        <select id="setNotifications" class="input">
          <option value="on">Attivate</option>
          <option value="off">Disattivate</option>
        </select>
        <small class="meta">Ricevi notifiche per eventi imminenti</small>
      </div>
      
      <button id="btnClearCache" class="btn btn-secondary">Cancella cache e dati temporanei</button>
    </article>

    <!-- Sezione Home -->
    <article class="surface stack">
      <h3 class="h3">Sezioni Home</h3>

      <div class="toggle-field">
        <label class="label" for="trackShows">Segna i miei show</label>
        <input type="checkbox" id="trackShows">
      </div>

      <div class="toggle-field">
        <label class="label" for="toggleUpcoming">Prossimi show</label>
        <input type="checkbox" id="toggleUpcoming">
      </div>

      <div class="toggle-field">
        <label class="label" for="toggleRecent">Effetti recenti</label>
        <input type="checkbox" id="toggleRecent">
      </div>

      <div class="toggle-field">
        <label class="label" for="toggleStats">Statistiche</label>
        <input type="checkbox" id="toggleStats">
      </div>

      <div class="toggle-field">
        <label class="label" for="toggleHistory">Cronologia</label>
        <input type="checkbox" id="toggleHistory">
      </div>

      <small class="meta">Scegli quali sezioni mostrare nella home.</small>
    </article>

    <!-- Sezione Info -->
    <article class="surface stack">
      <h3 class="h3">Informazioni</h3>
      
      <div class="field">
        <label class="label">Versione app</label>
        <p class="meta">Spellbook v1.0</p>
      </div>
      
      <div class="field">
        <label class="label">Storage usato</label>
        <p class="meta" id="storageUsed">Calcolo...</p>
      </div>
      
      <div class="cluster">
        <a href="#" class="btn btn-secondary" id="btnPrivacy">Privacy policy</a>
        <a href="#" class="btn btn-secondary" id="btnTerms">Termini di servizio</a>
      </div>
    </article>
  </div>

  <div class="cluster" style="justify-content:flex-end;margin-top:16px">
    <button id="btnSaveSettings" class="btn btn-primary">Salva impostazioni</button>
  </div>

  <div class="surface stack" style="margin-top:20px">
    <div class="cluster" style="justify-content:space-between">
      <h3 class="h3">Dati e Reset</h3>
      <div class="cluster">
        <button id="btnResetSettings" class="btn btn-secondary">Reset impostazioni</button>
        <button id="btnResetAll" class="btn btn-secondary">Reset completo app</button>
      </div>
    </div>
    <p class="meta">Il reset completo cancellerà tutti i dati salvati e riporterà l'app allo stato iniziale.</p>
  </div>
</section>

    </main>
  </div>
  
  <nav class="bottombar" aria-label="Navigazione principale" id="bottomNav">
    <a href="../index.html" aria-label="Home"><svg class="icon"><use href="#ic-home"/></svg><small>Home</small></a>
    <a href="../effects/index.html" aria-label="Catalogo"><svg class="icon"><use href="#ic-book"/></svg><small>Catalogo</small></a>
    <a href="../routine/index.html" aria-label="Routine"><svg class="icon"><use href="#ic-list"/></svg><small>Routine</small></a>
    <a href="../show/index.html" aria-label="Show"><svg class="icon"><use href="#ic-theatre"/></svg><small>Show</small></a>
    <a href="../settings/index.html" aria-label="Impostazioni" aria-current="page"><svg class="icon"><use href="#ic-gear"/></svg><small>Impost.</small></a>
  </nav>

  <script type="module" src="../assets/js/core/utils.js"></script>
  <script type="module" src="../assets/js/core/state.js"></script>
  <script type="module" src="../assets/js/core/ui.js"></script>
  <script type="module" src="./settings.js"></script>
</body>
</html>